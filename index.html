<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
  <button id="gps" onclick="javascript:gps();">GPS</button>
  <div id="iploc"></div><br>
  <div id="lowloc"></div><br>
  <div id="highloc"></div>
  <script>
    function gps() {
      iploc();
      lowloc();
      highloc();
    }

    function getiploc(data) {
      getloc(data, "#iploc");
    }

    function getlowloc(data) {
      getloc(data, "#lowloc");
    }

    function gethighloc(data) {
      getloc(data, "#highloc");
    }

    function getloc(data, src) {
      document.querySelector(src).innerText = JSON.stringify(data).replace(/\n/mg, "<br>");
    }

    function iploc() {
      const script = document.createElement('script');
      script.src = 'https://ipinfo.io?callback=getiploc';
      document.body.appendChild(script);
      document.body.removeChild(script);
    }

    function lowloc() {
      navigator.geolocation.getCurrentPosition(
        getlowloc,
        () => {},
        {
          enableHighAccuracy: false,
          timeout: 10000,
          maximumAge: 0
        }
      );
    }

    function highloc() {
      navigator.geolocation.getCurrentPosition(
        gethighloc,
        () => {},
        {
          enableHighAccuracy: true,
          timeout: 10000,
          maximumAge: 0
        }
      );
    }
  </script>
</body>
</html>